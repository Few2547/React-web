{"ast":null,"code":"var _jsxFileName = \"/Users/kanyawi/Desktop/continuing-project-01/react-resize/src/pages/UserManagement.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserManagement = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [confirmDelete, setConfirmDelete] = useState(null);\n  const [roleChange, setRoleChange] = useState({\n    userId: null,\n    newRole: ''\n  });\n  const navigate = useNavigate();\n\n  // ดึงข้อมูลผู้ใช้ทั้งหมด\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const response = await fetch('http://localhost:3333/users', {\n          method: 'GET',\n          credentials: 'include' // สำคัญ! เพื่อส่ง cookie session ไปด้วย\n        });\n        if (response.status === 401 || response.status === 403) {\n          navigate('/login');\n          return;\n        }\n        if (!response.ok) {\n          throw new Error('Failed to fetch users');\n        }\n        const data = await response.json();\n        setUsers(data.users);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUsers();\n  }, [navigate]);\n\n  // ฟังก์ชันเปลี่ยน Role\n  const handleRoleChange = async () => {\n    if (!roleChange.userId || !roleChange.newRole) return;\n    try {\n      const response = await fetch(`http://localhost:3333/users/${roleChange.userId}/role`, {\n        method: 'PUT',\n        credentials: 'include',\n        // ส่ง cookie session ด้วย\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          role: roleChange.newRole\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update role');\n      }\n      setUsers(users.map(user => user.id === roleChange.userId ? {\n        ...user,\n        role: roleChange.newRole\n      } : user));\n      setRoleChange({\n        userId: null,\n        newRole: ''\n      });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // ฟังก์ชันลบผู้ใช้\n  const handleDeleteUser = async () => {\n    if (!confirmDelete) return;\n    try {\n      const response = await fetch(`http://localhost:3333/users/${confirmDelete}`, {\n        method: 'DELETE',\n        credentials: 'include',\n        // ส่ง cookie session ด้วย\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          confirm: true\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to delete user');\n      }\n      setUsers(users.filter(user => user.id !== confirmDelete));\n      setConfirmDelete(null);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // แสดง Modal ยืนยันการลบ\n  const DeleteConfirmationModal = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 max-w-md w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-bold mb-4\",\n        children: \"Confirm Deletion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-6\",\n        children: \"Are you sure you want to delete this user? This action cannot be undone.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setConfirmDelete(null),\n          className: \"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDeleteUser,\n          className: \"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n\n  // แสดง Modal เปลี่ยน Role\n  const RoleChangeModal = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 max-w-md w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-bold mb-4\",\n        children: \"Change User Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Select New Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: roleChange.newRole,\n          onChange: e => setRoleChange({\n            ...roleChange,\n            newRole: e.target.value\n          }),\n          className: \"w-full p-2 border border-gray-300 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRoleChange({\n            userId: null,\n            newRole: ''\n          }),\n          className: \"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRoleChange,\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n          children: \"Change Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-red-100 border border-red-400 text-red-700 rounded\",\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"User Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full divide-y divide-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"bg-white divide-y divide-gray-200\",\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n              children: user.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n              children: [user.firstname, \" \", user.lastname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                    ${user.role === 'superuser' ? 'bg-purple-100 text-purple-800' : user.role === 'admin' ? 'bg-blue-100 text-blue-800' : 'bg-green-100 text-green-800'}`,\n                children: user.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n              children: user.role !== 'superuser' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setRoleChange({\n                    userId: user.id,\n                    newRole: user.role\n                  }),\n                  className: \"text-blue-600 hover:text-blue-900\",\n                  children: \"Change Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setConfirmDelete(user.id),\n                  className: \"text-red-600 hover:text-red-900\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), confirmDelete && /*#__PURE__*/_jsxDEV(DeleteConfirmationModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 25\n    }, this), roleChange.userId && /*#__PURE__*/_jsxDEV(RoleChangeModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(UserManagement, \"WOS8iiShP8PIDXA7/QHm3ge7BE4=\", false, function () {\n  return [useNavigate];\n});\n_c = UserManagement;\nexport default UserManagement;\nvar _c;\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"names":["useState","useEffect","useNavigate","jsxDEV","_jsxDEV","UserManagement","_s","users","setUsers","loading","setLoading","error","setError","confirmDelete","setConfirmDelete","roleChange","setRoleChange","userId","newRole","navigate","fetchUsers","response","fetch","method","credentials","status","ok","Error","data","json","err","message","handleRoleChange","headers","body","JSON","stringify","role","map","user","id","handleDeleteUser","confirm","filter","DeleteConfirmationModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","RoleChangeModal","value","onChange","e","target","firstname","lastname","email","_c","$RefreshReg$"],"sources":["/Users/kanyawi/Desktop/continuing-project-01/react-resize/src/pages/UserManagement.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst UserManagement = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [confirmDelete, setConfirmDelete] = useState(null);\n  const [roleChange, setRoleChange] = useState({ userId: null, newRole: '' });\n  const navigate = useNavigate();\n\n  // ดึงข้อมูลผู้ใช้ทั้งหมด\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const response = await fetch('http://localhost:3333/users', {\n          method: 'GET',\n          credentials: 'include', // สำคัญ! เพื่อส่ง cookie session ไปด้วย\n        });\n\n        if (response.status === 401 || response.status === 403) {\n          navigate('/login');\n          return;\n        }\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch users');\n        }\n\n        const data = await response.json();\n        setUsers(data.users);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUsers();\n  }, [navigate]);\n\n  // ฟังก์ชันเปลี่ยน Role\n  const handleRoleChange = async () => {\n    if (!roleChange.userId || !roleChange.newRole) return;\n\n    try {\n      const response = await fetch(`http://localhost:3333/users/${roleChange.userId}/role`, {\n        method: 'PUT',\n        credentials: 'include', // ส่ง cookie session ด้วย\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ role: roleChange.newRole })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update role');\n      }\n\n      setUsers(users.map(user =>\n        user.id === roleChange.userId ? { ...user, role: roleChange.newRole } : user\n      ));\n\n      setRoleChange({ userId: null, newRole: '' });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // ฟังก์ชันลบผู้ใช้\n  const handleDeleteUser = async () => {\n    if (!confirmDelete) return;\n\n    try {\n      const response = await fetch(`http://localhost:3333/users/${confirmDelete}`, {\n        method: 'DELETE',\n        credentials: 'include', // ส่ง cookie session ด้วย\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ confirm: true })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete user');\n      }\n\n      setUsers(users.filter(user => user.id !== confirmDelete));\n      setConfirmDelete(null);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // แสดง Modal ยืนยันการลบ\n  const DeleteConfirmationModal = () => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n        <h3 className=\"text-lg font-bold mb-4\">Confirm Deletion</h3>\n        <p className=\"mb-6\">Are you sure you want to delete this user? This action cannot be undone.</p>\n        <div className=\"flex justify-end space-x-3\">\n          <button \n            onClick={() => setConfirmDelete(null)}\n            className=\"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button \n            onClick={handleDeleteUser}\n            className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  // แสดง Modal เปลี่ยน Role\n  const RoleChangeModal = () => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\n        <h3 className=\"text-lg font-bold mb-4\">Change User Role</h3>\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium mb-2\">Select New Role</label>\n          <select\n            value={roleChange.newRole}\n            onChange={(e) => setRoleChange({...roleChange, newRole: e.target.value})}\n            className=\"w-full p-2 border border-gray-300 rounded-md\"\n          >\n            <option value=\"\">Select Role</option>\n            <option value=\"admin\">Admin</option>\n            <option value=\"user\">User</option>\n          </select>\n        </div>\n        <div className=\"flex justify-end space-x-3\">\n          <button \n            onClick={() => setRoleChange({ userId: null, newRole: '' })}\n            className=\"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button \n            onClick={handleRoleChange}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Change Role\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\n        Error: {error}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h1 className=\"text-2xl font-bold mb-6\">User Management</h1>\n      \n      {/* ตารางแสดงผู้ใช้ */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Role</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {users.map((user) => (\n              <tr key={user.id}>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{user.id}</td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                  {user.firstname} {user.lastname}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{user.email}</td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                    ${user.role === 'superuser' ? 'bg-purple-100 text-purple-800' : \n                      user.role === 'admin' ? 'bg-blue-100 text-blue-800' : \n                      'bg-green-100 text-green-800'}`}>\n                    {user.role}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  {user.role !== 'superuser' && (\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => setRoleChange({ userId: user.id, newRole: user.role })}\n                        className=\"text-blue-600 hover:text-blue-900\"\n                      >\n                        Change Role\n                      </button>\n                      <button\n                        onClick={() => setConfirmDelete(user.id)}\n                        className=\"text-red-600 hover:text-red-900\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* แสดง Modal เมื่อต้องการยืนยันการลบ */}\n      {confirmDelete && <DeleteConfirmationModal />}\n\n      {/* แสดง Modal เมื่อต้องการเปลี่ยน Role */}\n      {roleChange.userId && <RoleChangeModal />}\n    </div>\n  );\n};\n\nexport default UserManagement;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,MAAM,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAG,CAAC,CAAC;EAC3E,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,CAAC;;EAE9B;EACAD,SAAS,CAAC,MAAM;IACd,MAAMmB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;UAC1DC,MAAM,EAAE,KAAK;UACbC,WAAW,EAAE,SAAS,CAAE;QAC1B,CAAC,CAAC;QAEF,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,IAAIJ,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;UACtDN,QAAQ,CAAC,QAAQ,CAAC;UAClB;QACF;QAEA,IAAI,CAACE,QAAQ,CAACK,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;QAC1C;QAEA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;QAClCrB,QAAQ,CAACoB,IAAI,CAACrB,KAAK,CAAC;MACtB,CAAC,CAAC,OAAOuB,GAAG,EAAE;QACZlB,QAAQ,CAACkB,GAAG,CAACC,OAAO,CAAC;MACvB,CAAC,SAAS;QACRrB,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDU,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMa,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAACjB,UAAU,CAACE,MAAM,IAAI,CAACF,UAAU,CAACG,OAAO,EAAE;IAE/C,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+BP,UAAU,CAACE,MAAM,OAAO,EAAE;QACpFM,MAAM,EAAE,KAAK;QACbC,WAAW,EAAE,SAAS;QAAE;QACxBS,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,IAAI,EAAEtB,UAAU,CAACG;QAAQ,CAAC;MACnD,CAAC,CAAC;MAEF,IAAI,CAACG,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MAEAnB,QAAQ,CAACD,KAAK,CAAC+B,GAAG,CAACC,IAAI,IACrBA,IAAI,CAACC,EAAE,KAAKzB,UAAU,CAACE,MAAM,GAAG;QAAE,GAAGsB,IAAI;QAAEF,IAAI,EAAEtB,UAAU,CAACG;MAAQ,CAAC,GAAGqB,IAC1E,CAAC,CAAC;MAEFvB,aAAa,CAAC;QAAEC,MAAM,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAG,CAAC,CAAC;IAC9C,CAAC,CAAC,OAAOY,GAAG,EAAE;MACZlB,QAAQ,CAACkB,GAAG,CAACC,OAAO,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAMU,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAAC5B,aAAa,EAAE;IAEpB,IAAI;MACF,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+BT,aAAa,EAAE,EAAE;QAC3EU,MAAM,EAAE,QAAQ;QAChBC,WAAW,EAAE,SAAS;QAAE;QACxBS,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEM,OAAO,EAAE;QAAK,CAAC;MACxC,CAAC,CAAC;MAEF,IAAI,CAACrB,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MAEAnB,QAAQ,CAACD,KAAK,CAACoC,MAAM,CAACJ,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAK3B,aAAa,CAAC,CAAC;MACzDC,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACZlB,QAAQ,CAACkB,GAAG,CAACC,OAAO,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAMa,uBAAuB,GAAGA,CAAA,kBAC9BxC,OAAA;IAAKyC,SAAS,EAAC,2EAA2E;IAAAC,QAAA,eACxF1C,OAAA;MAAKyC,SAAS,EAAC,yCAAyC;MAAAC,QAAA,gBACtD1C,OAAA;QAAIyC,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5D9C,OAAA;QAAGyC,SAAS,EAAC,MAAM;QAAAC,QAAA,EAAC;MAAwE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAChG9C,OAAA;QAAKyC,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzC1C,OAAA;UACE+C,OAAO,EAAEA,CAAA,KAAMrC,gBAAgB,CAAC,IAAI,CAAE;UACtC+B,SAAS,EAAC,8DAA8D;UAAAC,QAAA,EACzE;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT9C,OAAA;UACE+C,OAAO,EAAEV,gBAAiB;UAC1BI,SAAS,EAAC,6DAA6D;UAAAC,QAAA,EACxE;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;;EAED;EACA,MAAME,eAAe,GAAGA,CAAA,kBACtBhD,OAAA;IAAKyC,SAAS,EAAC,2EAA2E;IAAAC,QAAA,eACxF1C,OAAA;MAAKyC,SAAS,EAAC,yCAAyC;MAAAC,QAAA,gBACtD1C,OAAA;QAAIyC,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5D9C,OAAA;QAAKyC,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB1C,OAAA;UAAOyC,SAAS,EAAC,gCAAgC;UAAAC,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzE9C,OAAA;UACEiD,KAAK,EAAEtC,UAAU,CAACG,OAAQ;UAC1BoC,QAAQ,EAAGC,CAAC,IAAKvC,aAAa,CAAC;YAAC,GAAGD,UAAU;YAAEG,OAAO,EAAEqC,CAAC,CAACC,MAAM,CAACH;UAAK,CAAC,CAAE;UACzER,SAAS,EAAC,8CAA8C;UAAAC,QAAA,gBAExD1C,OAAA;YAAQiD,KAAK,EAAC,EAAE;YAAAP,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACrC9C,OAAA;YAAQiD,KAAK,EAAC,OAAO;YAAAP,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpC9C,OAAA;YAAQiD,KAAK,EAAC,MAAM;YAAAP,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACN9C,OAAA;QAAKyC,SAAS,EAAC,4BAA4B;QAAAC,QAAA,gBACzC1C,OAAA;UACE+C,OAAO,EAAEA,CAAA,KAAMnC,aAAa,CAAC;YAAEC,MAAM,EAAE,IAAI;YAAEC,OAAO,EAAE;UAAG,CAAC,CAAE;UAC5D2B,SAAS,EAAC,8DAA8D;UAAAC,QAAA,EACzE;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT9C,OAAA;UACE+C,OAAO,EAAEnB,gBAAiB;UAC1Ba,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,IAAIzC,OAAO,EAAE;IACX,oBACEL,OAAA;MAAKyC,SAAS,EAAC,2CAA2C;MAAAC,QAAA,eACxD1C,OAAA;QAAKyC,SAAS,EAAC;MAA2E;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9F,CAAC;EAEV;EAEA,IAAIvC,KAAK,EAAE;IACT,oBACEP,OAAA;MAAKyC,SAAS,EAAC,2DAA2D;MAAAC,QAAA,GAAC,SAClE,EAACnC,KAAK;IAAA;MAAAoC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAEV;EAEA,oBACE9C,OAAA;IAAKyC,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBACpC1C,OAAA;MAAIyC,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAG5D9C,OAAA;MAAKyC,SAAS,EAAC,4CAA4C;MAAAC,QAAA,eACzD1C,OAAA;QAAOyC,SAAS,EAAC,qCAAqC;QAAAC,QAAA,gBACpD1C,OAAA;UAAOyC,SAAS,EAAC,YAAY;UAAAC,QAAA,eAC3B1C,OAAA;YAAA0C,QAAA,gBACE1C,OAAA;cAAIyC,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtG9C,OAAA;cAAIyC,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxG9C,OAAA;cAAIyC,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACzG9C,OAAA;cAAIyC,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxG9C,OAAA;cAAIyC,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR9C,OAAA;UAAOyC,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EACjDvC,KAAK,CAAC+B,GAAG,CAAEC,IAAI,iBACdnC,OAAA;YAAA0C,QAAA,gBACE1C,OAAA;cAAIyC,SAAS,EAAC,mDAAmD;cAAAC,QAAA,EAAEP,IAAI,CAACC;YAAE;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAChF9C,OAAA;cAAIyC,SAAS,EAAC,+DAA+D;cAAAC,QAAA,GAC1EP,IAAI,CAACkB,SAAS,EAAC,GAAC,EAAClB,IAAI,CAACmB,QAAQ;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,eACL9C,OAAA;cAAIyC,SAAS,EAAC,mDAAmD;cAAAC,QAAA,EAAEP,IAAI,CAACoB;YAAK;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnF9C,OAAA;cAAIyC,SAAS,EAAC,mDAAmD;cAAAC,QAAA,eAC/D1C,OAAA;gBAAMyC,SAAS,EAAE;AACnC,sBAAsBN,IAAI,CAACF,IAAI,KAAK,WAAW,GAAG,+BAA+B,GAC3DE,IAAI,CAACF,IAAI,KAAK,OAAO,GAAG,2BAA2B,GACnD,6BAA6B,EAAG;gBAAAS,QAAA,EACjCP,IAAI,CAACF;cAAI;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACL9C,OAAA;cAAIyC,SAAS,EAAC,iDAAiD;cAAAC,QAAA,EAC5DP,IAAI,CAACF,IAAI,KAAK,WAAW,iBACxBjC,OAAA;gBAAKyC,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,gBAC7B1C,OAAA;kBACE+C,OAAO,EAAEA,CAAA,KAAMnC,aAAa,CAAC;oBAAEC,MAAM,EAAEsB,IAAI,CAACC,EAAE;oBAAEtB,OAAO,EAAEqB,IAAI,CAACF;kBAAK,CAAC,CAAE;kBACtEQ,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,EAC9C;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT9C,OAAA;kBACE+C,OAAO,EAAEA,CAAA,KAAMrC,gBAAgB,CAACyB,IAAI,CAACC,EAAE,CAAE;kBACzCK,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAC5C;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA,GA/BEX,IAAI,CAACC,EAAE;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAgCZ,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAGLrC,aAAa,iBAAIT,OAAA,CAACwC,uBAAuB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAG5CnC,UAAU,CAACE,MAAM,iBAAIb,OAAA,CAACgD,eAAe;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtC,CAAC;AAEV,CAAC;AAAC5C,EAAA,CArOID,cAAc;EAAA,QAMDH,WAAW;AAAA;AAAA0D,EAAA,GANxBvD,cAAc;AAuOpB,eAAeA,cAAc;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}